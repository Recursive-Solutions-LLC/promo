<!-- Form for collecting user information -->
<section class="py-20 flex">
    <div class="max-w-2xl mx-auto text-center">
      <h1 class="text-5xl font-medium capitalize text-primary mb-4">Fill this form</h1>
      <p class="text-sm text-gray-300 font-medium">A member of our team will be in touch with you soon.</p>
    </div>
  
    <div class="mx-auto w-full max-w-md p-6 bg-gray-800/40 rounded-2xl backdrop-blur-sm" data-aos="fade-up" data-aos-easing="ease" data-aos-duration="1000">
      <form id="multi-step-form">
        <!-- Step 1 -->
        <div class="form-step">
          <h1 class="text-3xl font-medium mb-4">First up, What's your name?*</h1>
          <div class="mb-4">
            <label for="first-name" class="block text-gray-300 font-medium mb-2">First Name</label>
            <input type="text" id="first-name" name="first-name" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
            <span class="text-red-500 hidden" id="error-first-name">Please enter your first name.</span>
          </div>
          <div class="mb-4">
            <label for="last-name" class="block text-gray-300 font-medium mb-2">Last Name</label>
            <input type="text" id="last-name" name="last-name" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
            <span class="text-red-500 hidden" id="error-last-name">Please enter your last name.</span>
          </div>
          <div class="flex justify-end">
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 2 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Tell us about your organization</h1>
          <div class="mb-4">
            <label for="company-name" class="block text-gray-300 font-medium mb-2">Company or Organization Name</label>
            <input type="text" id="company-name" name="company-name" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
            <span class="text-red-500 hidden" id="error-company-name">Please enter your company name.</span>
          </div>
          <div class="mb-4">
            <label for="website" class="block text-gray-300 font-medium mb-2">Website</label>
            <input type="url" id="website" name="website" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary">
          </div>
          <div class="mb-4">
            <label for="size" class="block text-gray-300 font-medium mb-2">Size of Business</label>
            <select id="size" name="size" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
              <option value="">Select an option</option>
              <option value="1-10">1-10</option>
              <option value="11-50">11-50</option>
              <option value="51-200">51-200</option>
              <option value="201-1000">201-1000</option>
            </select>
            <span class="text-red-500 hidden" id="error-size">Please select the size of your business.</span>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 3 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Contact Information</h1>
          <div class="mb-4">
            <label for="email" class="block text-gray-300 font-medium mb-2">Email</label>
            <input type="email" id="email" name="email" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
            <span class="text-red-500 hidden" id="error-email">Please enter a valid email address.</span>
          </div>
          <div class="mb-4">
            <label for="phone" class="block text-gray-300 font-medium mb-2">Phone Number</label>
            <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
            <span class="text-red-500 hidden" id="error-phone">Please enter a valid phone number.</span>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 4 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Old School Processes</h1>
          <div class="mb-4">
            <label for="old-processes" class="block text-gray-300 font-medium mb-2">What are the old school processes you would like to automate in your business?</label>
            <textarea id="old-processes" name="old-processes" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required></textarea>
            <span class="text-red-500 hidden" id="error-old-processes">Please provide details about the processes.</span>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 5 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Your Tools</h1>
          <div class="mb-4">
            <label for="tools" class="block text-gray-300 font-medium mb-2">Select your tools</label>
            <div class="flex flex-col">
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="tools" value="Tool 1" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Tool 1</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="tools" value="Tool 2" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Tool 2</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="tools" value="Tool 3" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Tool 3</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" id="other-tool" name="tools" value="others" class="form-checkbox h-5 w-5 text-primary" onchange="toggleOtherToolInput(this)"><span class="ml-2 text-gray-300">Others (specify below)</span>
              </label>
              <textarea id="other-tool-text" name="other-tool-text" class="w-full mt-2 px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary hidden" placeholder="Please specify..."></textarea>
            </div>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 6 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Tasks Slowing Down Your Business</h1>
          <div class="mb-4">
            <label for="slow-tasks" class="block text-gray-300 font-medium mb-2">What are the tasks slowing down your business?</label>
            <div class="flex flex-col">
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="slow-tasks" value="send-emails" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Send Emails</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="slow-tasks" value="repetitive-tasks" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Repetitive Manual Tasks</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="slow-tasks" value="create-invoices" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Create Invoices</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" name="slow-tasks" value="send-quotations" class="form-checkbox h-5 w-5 text-primary"><span class="ml-2 text-gray-300">Send Quotations to Clients</span>
              </label>
              <label class="inline-flex items-center mt-3">
                <input type="checkbox" id="other-task" name="slow-tasks" value="others" class="form-checkbox h-5 w-5 text-primary" onchange="toggleOtherInput(this)"><span class="ml-2 text-gray-300">Others (we are all ears)</span>
              </label>
              <textarea id="other-task-text" name="other-task-text" class="w-full mt-2 px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary hidden" placeholder="Please specify..."></textarea>
            </div>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 7 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Department to Automate</h1>
          <div class="mb-4">
            <label for="department" class="block text-gray-300 font-medium mb-2">Which department would you like to automate the most?</label>
            <select id="department" name="department" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required>
              <option value="">Select an option</option>
              <option value="sales-crm">Sales and CRM</option>
              <option value="operations">Operations</option>
              <option value="marketing">Marketing</option>
              <option value="customer-support">Customer Support</option>
              <option value="finance-accounting">Finance and Accounting</option>
            </select>
            <span class="text-red-500 hidden" id="error-department">Please select a department.</span>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="button" onclick="nextStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Next</button>
          </div>
        </div>
  
        <!-- Step 8 -->
        <div class="form-step hidden">
          <h1 class="text-3xl font-medium mb-4">Magic Automation</h1>
          <div class="mb-4">
            <label for="magic-task" class="block text-gray-300 font-medium mb-2">If you could automate one of your daily tasks by magic, which one would it be?</label>
            <textarea id="magic-task" name="magic-task" class="w-full px-4 py-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-primary focus:border-primary" required></textarea>
            <span class="text-red-500 hidden" id="error-magic-task">Please describe the task you want to automate.</span>
          </div>
          <div class="flex justify-between">
            <button type="button" onclick="prevStep()" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Previous</button>
            <button type="submit" class="bg-primary text-white py-2 px-6 rounded-full hover:bg-primary-hover transition-all duration-300">Submit</button>
          </div>
        </div>
      </form>
    </div>
  </section>
  
  <!-- JavaScript for handling the form steps -->
  <script>
    let currentStep = 0;
    const formSteps = document.querySelectorAll(".form-step");
  
    function showStep(step) {
      formSteps.forEach((stepElement, index) => {
        stepElement.classList.toggle("hidden", index !== step);
      });
    }
  
    function nextStep() {
      if (validateForm()) {
        if (currentStep < formSteps.length - 1) {
          currentStep++;
          showStep(currentStep);
        }
      }
    }
  
    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        showStep(currentStep);
      }
    }
  
    function toggleOtherInput(checkbox) {
      const otherTaskText = document.getElementById('other-task-text');
      if (checkbox.checked) {
        otherTaskText.classList.remove('hidden');
        otherTaskText.setAttribute('required', 'required');
      } else {
        otherTaskText.classList.add('hidden');
        otherTaskText.removeAttribute('required');
      }
    }
  
    function toggleOtherToolInput(checkbox) {
      const otherToolText = document.getElementById('other-tool-text');
      if (checkbox.checked) {
        otherToolText.classList.remove('hidden');
        otherToolText.setAttribute('required', 'required');
      } else {
        otherToolText.classList.add('hidden');
        otherToolText.removeAttribute('required');
      }
    }
  
    function validateForm() {
      const currentStepForm = formSteps[currentStep];
      const inputs = currentStepForm.querySelectorAll('input, select, textarea');
      let valid = true;
  
      inputs.forEach(input => {
        // Ensure that non-required fields which are empty are valid
        if (!input.required && !input.value.trim()) {
          return;
        }
  
        const errorMessage = document.getElementById(`error-${input.id}`);
        if (errorMessage) {
          if (!input.checkValidity()) {
            errorMessage.classList.remove('hidden');
            valid = false;
          } else {
            errorMessage.classList.add('hidden');
          }
        }
      });
  
      return valid;
    }
  
    document.getElementById('multi-step-form').addEventListener('submit', function(event) {
      event.preventDefault();
  
      let formData = new FormData(event.target);
      let formObject = {};
  
      formData.forEach((value, key) => {
        if (formObject[key]) {
          if (!Array.isArray(formObject[key])) {
            formObject[key] = [formObject[key]];
          }
          formObject[key].push(value);
        } else {
          formObject[key] = value;
        }
      });
  
      console.log('Form submitted:', JSON.stringify(formObject, null, 2));
    });
  
    showStep(currentStep);
  </script>
